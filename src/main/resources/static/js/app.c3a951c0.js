(function(t){function e(e){for(var s,r,o=e[0],l=e[1],c=e[2],d=0,m=[];d<o.length;d++)r=o[d],i[r]&&m.push(i[r][0]),i[r]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);u&&u(e);while(m.length)m.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],s=!0,o=1;o<n.length;o++){var l=n[o];0!==i[l]&&(s=!1)}s&&(a.splice(e--,1),t=r(r.s=n[0]))}return t}var s={},i={app:0},a=[];function r(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=s,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(n,s,function(e){return t[e]}.bind(null,s));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/ebook/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=l;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0564":function(t,e,n){"use strict";var s=n("e887"),i=n.n(s);i.a},1:function(t,e){},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var s=n("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("div",{attrs:{id:"nav"}},[n("router-link",{attrs:{to:"/"}},[t._v("Home")]),t._v(" |\n        "),n("router-link",{attrs:{to:"/login"}},[t._v("Login")]),t._v(" |\n        "),n("router-link",{attrs:{to:"/register"}},[t._v("Register")]),t._v(" |\n        "),n("router-link",{attrs:{to:"/library"}},[t._v("Library")]),t._v(" |\n        "),n("router-link",{attrs:{to:"/cart"}},[t._v("Cart")]),t._v(" |\n        "),n("router-link",{attrs:{to:"/order"}},[t._v("User Order")]),t._v(" |\n        "),n("router-link",{attrs:{to:"/management"}},[t._v("Management")])],1),n("router-view")],1)},a=[],r=(n("0564"),n("2877")),o={},l=Object(r["a"])(o,i,a,!1,null,"4e13a797",null),c=l.exports,u=n("8c4f"),d=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"p-3"},[s("img",{staticClass:"mb-4",attrs:{width:"72",height:"72",alt:"ebook logo",src:n("cf05")}}),t._m(0),s("hr"),s("Features"),s("hr"),s("div",{staticClass:"p-2"},[s("router-link",{attrs:{to:"/library"}},[s("button",{staticClass:"btn btn-outline-primary col-4"},[t._v("进店看看")])])],1)],1)},m=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"text-center"},[n("h1",{staticClass:"display-4 p-3"},[t._v("e-Book")]),n("h2",{staticClass:"p-2"},[t._v("专业的在线书店")])])}],v=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},p=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row text-center pt-3 pb-3"},[n("div",{staticClass:"col-2 offset-2"},[t._v("\n        操作简易\n    ")]),n("div",{staticClass:"col-2 offset-1"},[t._v("\n        书库齐全\n    ")]),n("div",{staticClass:"col-2 offset-1"},[t._v("\n        服务到家\n    ")])])}],f={name:"Features"},b=f,h=Object(r["a"])(b,v,p,!1,null,"7b0999b1",null),g=h.exports,C={name:"home",components:{Features:g}},_=C,y=Object(r["a"])(_,d,m,!1,null,null,null),x=y.exports,k=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"text-center"},[t._m(0),n("LoginForm")],1)},w=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"p-3"},[s("img",{staticClass:"mb-4",attrs:{width:"72",height:"72",alt:"ebook logo",src:n("cf05")}}),s("h1",{staticClass:"mb-2"},[t._v("登录")])])}],A=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"text-center"},[n("div",{staticClass:"input-group p-1 text-center"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"form-control col-4 m-auto",attrs:{type:"text",placeholder:"用户名"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),n("div",{staticClass:"input-group p-1"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control col-4 m-auto",attrs:{type:"password",placeholder:"密码"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),t._m(0),n("div",{staticClass:"input-group p-1 mt-2"},[n("button",{staticClass:"btn btn-outline-primary btn-block col-4 m-auto",on:{click:function(e){return t.submitForm()}}},[t._v("\n            "+t._s(t.submitText)+"\n        ")])]),t.validating?n("div",[n("span",{staticClass:"text-info"},[t._v("登录认证中……")])]):t.validationNoReply?n("div",[n("span",{staticClass:"text-danger"},[t._v("登录认证无响应")])]):t.validationDenied?n("div",[n("span",{staticClass:"text-danger"},[t._v("登录信息有误")])]):t._e()])},E=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"input-group pt-3"},[n("label",{staticClass:"col-4 m-auto"},[n("input",{attrs:{type:"checkbox",value:"remember_me"}}),t._v("\n            记住我\n        ")])])}],U=n("8237"),B=n.n(U),O={name:"LoginForm",data:function(){return{username:"",password:"",pubkey:"",validating:!1,validationDenied:!1,validationNoReply:!1}},computed:{submitText:function(){return this.validationDenied?"重新登录":"登录"}},methods:{submitForm:function(){var t=this;this.$http.post("login/pubkey",{username:this.username}).then(function(e){t.pubkey=e.data.pubkey,t.validating=!0,t.requestValidation(),t.validating=!1},function(){})},requestValidation:function(){var t=this;this.$http.post("login/validate",{username:this.username,token:B()(this.pubkey+B()(this.username+B()(this.password)))}).then(function(e){t.validationNoReply=!1;var n=e.data.result;"success"===n?(t.validationDenied=!1,t.$router.push({name:"home"})):t.validationDenied=!0},function(){t.validationNoReply=!0})}}},I=O,L=Object(r["a"])(I,A,E,!1,null,"35769c14",null),D=L.exports,P={name:"Login",components:{LoginForm:D}},S=P,F=Object(r["a"])(S,k,w,!1,null,"d2d9abf0",null),j=F.exports,N=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._m(0),n("RegisterForm")],1)},Q=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"text-center p-3"},[s("img",{staticClass:"mb-4",attrs:{width:"72",height:"72",alt:"ebook logo",src:n("cf05")}}),s("h1",{staticClass:"mb-2"},[t._v("注册")])])}],T=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"text-center"},[n("div",{staticClass:"input-group p-1"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"form-control col-4 m-auto",attrs:{type:"text",placeholder:"用户名"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),n("div",{staticClass:"input-group p-1"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control col-4 m-auto",attrs:{type:"password",placeholder:"密码"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),n("div",{staticClass:"input-group p-1"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.repeatPassword,expression:"repeatPassword"}],staticClass:"form-control col-4 m-auto",attrs:{type:"password",placeholder:"重复密码"},domProps:{value:t.repeatPassword},on:{input:function(e){e.target.composing||(t.repeatPassword=e.target.value)}}})]),n("div",{staticClass:"input-group p-1"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control col-4 m-auto",attrs:{type:"text",placeholder:"电子邮箱"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),n("div",{staticClass:"input-group pt-3"},[n("label",{staticClass:"col-4 m-auto"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.autoLogin,expression:"autoLogin"}],attrs:{type:"checkbox",value:"auto_login"},domProps:{checked:Array.isArray(t.autoLogin)?t._i(t.autoLogin,"auto_login")>-1:t.autoLogin},on:{change:function(e){var n=t.autoLogin,s=e.target,i=!!s.checked;if(Array.isArray(n)){var a="auto_login",r=t._i(n,a);s.checked?r<0&&(t.autoLogin=n.concat([a])):r>-1&&(t.autoLogin=n.slice(0,r).concat(n.slice(r+1)))}else t.autoLogin=i}}}),t._v("\n            注册完成后自动登录\n        ")])]),t._m(0)])},Z=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"input-group p-1 mt-2"},[n("button",{staticClass:"btn btn-outline-primary btn-block col-4 m-auto",attrs:{type:"submit"}},[t._v("注册")])])}],G={name:"RegisterForm",data:function(){return{username:"",password:"",repeatPassword:"",email:"",autoLogin:!0}}},M=G,J=Object(r["a"])(M,T,Z,!1,null,"2ce17c90",null),R=J.exports,Y={name:"Register",components:{RegisterForm:R}},H=Y,z=Object(r["a"])(H,N,Q,!1,null,"5c350a97",null),V=z.exports,K=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._m(0),n("BookList")],1)},X=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bg-primary text-white p-4"},[n("span",[t._v("选择您想要的图书，加入购物车！")])])}],W=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",[n("div",{staticClass:"input-group bg-secondary mt-3 mb-3 pt-2 pb-2"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.title,expression:"filters.title"}],staticClass:"form-control col-2 offset-9",attrs:{type:"text",placeholder:"按书名搜索"},domProps:{value:t.filters.title},on:{input:function(e){e.target.composing||t.$set(t.filters,"title",e.target.value)}}}),n("button",{staticClass:"btn btn-info col-1"},[t._v("查询")])]),n("ul",{staticClass:"nav nav-tabs nav-justified mt-3 mb-3"},t._l(t.getCategories,function(e,s){return n("li",{key:s,staticClass:"nav-item",class:t.categoryClass(s),on:{click:function(e){return t.switchCategory(s)}}},[n("a",[t._v(t._s(e))])])}),0)]),t.admin&&t.isValidCategory?n("div",[n("button",{staticClass:"btn btn-block btn-outline-primary col-10 offset-1 mb-3"},[t._v("添加新的图书...")]),n("hr")]):t._e(),n("div",[t.gettingBookList?n("span",[t._v("加载书单中……")]):t.getBookListFail?n("span",[t._v("获取书单失败……")]):t.hasNoCategories?n("span",[t._v("（书单为空）")]):t.selectedCategory<0?n("span",[t._v("（在上方选择一个分类）")]):t.isEmptyCategory?n("span",[t._v("本分类暂无可供图书~")]):n("div",t._l(t.getBooks,function(e,s){return n("BookListItem",{key:s,attrs:{book:e,admin:t.admin}})}),1)])])},q=[],$=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row align-items-center"},[s("div",{staticClass:"col-2"},[s("img",{attrs:{src:n("cf05"),width:"150px",height:"160px",alt:t.title}})]),s("div",{staticClass:"col-6"},[s("div",{staticClass:"text-center"},[s("div",[t._v(t._s(t.author)+" - "+t._s(t.title))]),s("div",[t._v("ISBN："+t._s(t.book.isbn))]),t.noStock?s("div",{staticClass:"text-secondary"},[t._v("(-_-;) 没库存了")]):s("div",[t._v("库存剩余："+t._s(t.book.stock))])])]),s("div",{staticClass:"col-2"},[s("button",{staticClass:"btn btn-outline-info w-100 mb-2",on:{click:function(e){return t.showDetails()}}},[t._v("详情")]),t.admin?s("button",{staticClass:"btn btn-outline-success w-100"},[t._v("库存")]):t._e(),t.admin?t._e():s("button",{staticClass:"btn btn-outline-fav w-100"},[t._v("收藏")])]),s("div",{staticClass:"col-2"},[t.admin?t._e():s("button",{staticClass:"btn btn-outline-primary w-100",attrs:{disabled:t.noStock,title:t.noStock?"库存为空，去看看其他书吧":""}},[t._v("\n            添加到购物车\n            "),s("br"),t._v("￥"+t._s(t.book.price)+"\n        ")]),t.admin?s("button",{staticClass:"btn btn-outline-danger w-100"},[t._v("删除")]):t._e()]),t.detailed?s("div",[s("div",{staticClass:"mask"}),s("div",{staticClass:"on-mask bg-white window-md p-4"},[s("button",{staticClass:"btn btn-outline-danger col-2 offset-10 mb-3",on:{click:function(e){return t.hideDetails()}}},[t._v("关闭")]),s("BookDetails",{attrs:{title:t.title,author:t.author,isbn:t.book.isbn,stock:t.book.stock,price:t.book.price,admin:t.admin,comments:t.bookComments}})],1)]):t._e()])},tt=[],et=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"row align-items-center"},[s("div",{staticClass:"col-4"},[s("img",{attrs:{src:n("cf05"),width:"150px",height:"160px",alt:t.title}})]),s("div",{staticClass:"col-8"},[s("div",[t._v(t._s(t.author)+" - "+t._s(t.title))]),s("div",[t._v("ISBN："+t._s(t.isbn))]),s("div",[t._v("单价：￥"+t._s(t.price))]),s("div",{class:{"text-secondary":t.stock<=0}},[t._v("库存剩余："+t._s(t.stock))])])]),t.admin?s("button",{staticClass:"btn btn-block btn-outline-info col-10 offset-1 mt-3"},[t._v("修改图书信息")]):t._e(),s("div",{staticClass:"h4 text-left mt-5"},[t._v("评论")]),s("hr"),t.hasComments?s("div",t._l(t.comments,function(e,n){return s("div",{key:n,staticClass:"text-left"},[t._v("\n            "+t._s(e.username)+"说："+t._s(e.comment)+"\n            "),s("hr")])}),0):s("div",[t._v("暂无评论；来写下第一条评论吧")]),s("div",{staticClass:"row ml-0 mr-0 mt-4"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.intendedComment,expression:"intendedComment"}],staticClass:"form-control col-10",attrs:{type:"text",placeholder:"留下你的评论..."},domProps:{value:t.intendedComment},on:{input:function(e){e.target.composing||(t.intendedComment=e.target.value)}}}),s("button",{staticClass:"btn btn-outline-primary col-2"},[t._v("评论")])])])},nt=[],st={name:"BookDetails",props:["title","author","isbn","price","stock","comments","admin"],computed:{hasComments:function(){return this.comments.length>0}},data:function(){return{intendedComment:""}}},it=st,at=Object(r["a"])(it,et,nt,!1,null,"e68ab14c",null),rt=at.exports,ot={name:"BookListItem",components:{BookDetails:rt},props:["book","admin"],computed:{noStock:function(){return this.book.stock<=0},author:function(){return 0===this.book.author.length?"佚名":this.book.author},title:function(){return 0===this.book.title.length?"无题":this.book.title}},data:function(){return{detailed:!1,bookComments:[]}},methods:{showDetails:function(){this.detailed=!0,this.bookComments=[{username:"Alice",comment:this.title+" is nice :)"},{username:"Kevin",comment:this.author+"写的书都还行"}]},hideDetails:function(){this.detailed=!1}}},lt=ot,ct=Object(r["a"])(lt,$,tt,!1,null,"22c94795",null),ut=ct.exports,dt={name:"BookList",components:{BookListItem:ut},props:{admin:{default:!1}},computed:{getCategories:function(){var t,e=[];for(t=0;t<this.library.length;t++)e[t]=this.library[t].category;return e},getBooks:function(){var t=this.selectedCategory;return t>=0&&t<this.getCategories.length?this.library[t].books:[]},isEmptyCategory:function(){return!this.isValidCategory||this.library[this.selectedCategory].books.length<=0},isValidCategory:function(){return this.selectedCategory>=0&&this.selectedCategory<this.getCategories.length},hasNoCategories:function(){return 0==this.library.length}},created:function(){this.gettingBookList=!0,this.requestBookList(),this.gettingBookList=!1},methods:{categoryClass:function(t){return t===this.selectedCategory?"nav-link active":"nav-link"},switchCategory:function(t){t>=0&&t<this.getCategories.length&&(this.selectedCategory=t)},requestBookList:function(){var t=this;this.$http.post("library").then(function(e){t.library=e.data.library,t.getBookListFail=!1},function(){t.library=[],t.getBookListFail=!0})}},data:function(){return{filters:{title:""},library:[],gettingBookList:!1,getBookListFail:!1,selectedCategory:-1}}},mt=dt,vt=Object(r["a"])(mt,W,q,!1,null,"8d5040fc",null),pt=vt.exports,ft={name:"Library",components:{BookList:pt}},bt=ft,ht=Object(r["a"])(bt,K,X,!1,null,"2720bdad",null),gt=ht.exports,Ct=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._m(0),n("CartContent")],1)},_t=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bg-info text-white p-4 mb-3"},[n("span",[t._v("这些是您放入购物车的图书，请确认！")])])}],yt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._l(t.items,function(t,e){return n("div",{key:e},[n("CartItem",{attrs:{item:t}})],1)}),n("hr"),n("div",{staticClass:"col-2 offset-10 text-primary h3 pt-3 pb-3"},[t._v("\n        总计：￥"+t._s(t.totalPrice)+"\n    ")]),n("hr"),n("button",{staticClass:"btn btn-block btn-outline-success col-6 offset-3"},[t._v("买单！")])],2)},xt=[],kt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row align-items-center"},[s("div",{staticClass:"col-2"},[s("img",{attrs:{src:n("cf05"),width:"150px",height:"160px",alt:t.title}})]),s("div",{staticClass:"col-6"},[s("div",{staticClass:"text-center"},[s("div",[t._v(t._s(t.author)+" - "+t._s(t.title))]),s("div",[t._v("ISBN："+t._s(t.item.isbn))]),s("div",[t._v("单价：￥"+t._s(t.item.price))]),s("div",[t._v("购买数量："+t._s(t.item.count))])])]),t._m(0),s("div",{staticClass:"col-2 text-primary h4"},[t._v("\n        ￥"+t._s(t.itemPrice)+"\n    ")])])},wt=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"col-2"},[n("button",{staticClass:"btn btn-outline-primary w-100 mb-2"},[t._v("修改数量")]),n("button",{staticClass:"btn btn-outline-danger w-100"},[t._v("移出购物车")])])}],At={name:"CartItem",props:["item"],computed:{itemPrice:function(){return this.item.price*this.item.count},author:function(){return 0===this.item.author.length?"佚名":this.item.author},title:function(){return 0===this.item.title.length?"无题":this.item.title}}},Et=At,Ut=Object(r["a"])(Et,kt,wt,!1,null,"5061f8d1",null),Bt=Ut.exports,Ot={name:"CartContent",components:{CartItem:Bt},computed:{totalPrice:function(){var t=0,e=0;for(t=0;t<this.items.length;t++)e+=this.items[t].price*this.items[t].count;return e}},data:function(){return{items:[{title:"泰戈尔诗选",author:"泰戈尔",isbn:"2",price:20,count:3},{title:"深入了解计算机系统",author:"Randal E. Bryant, David R. O'Hallaron",isbn:"22",price:100,count:1}]}}},It=Ot,Lt=Object(r["a"])(It,yt,xt,!1,null,"0960047a",null),Dt=Lt.exports,Pt={name:"Cart",components:{CartContent:Dt}},St=Pt,Ft=Object(r["a"])(St,Ct,_t,!1,null,"405fc5b8",null),jt=Ft.exports,Nt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row"},[n("div",{staticClass:"col-2"},t._l(t.entries,function(e,s){return n("button",{key:s,staticClass:"btn btn-block p-4",on:{click:function(e){return t.switchEntry(s)}}},[t._v(t._s(e))])}),0),n("div",{staticClass:"col-10"},[0==t.selectedEntry?n("BookManager"):1==t.selectedEntry?n("OrderManager"):2==t.selectedEntry?n("UserManager"):n("span",{staticClass:"text-center"},[t._v("请从左侧选择一项功能 :)")])],1)])},Qt=[],Tt=(n("ac6a"),n("06db"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"bg-primary text-white p-3"},[t._v("书籍管理")]),n("BookList",{attrs:{admin:"true"}})],1)}),Zt=[],Gt={name:"BookManager",components:{BookList:pt}},Mt=Gt,Jt=Object(r["a"])(Mt,Tt,Zt,!1,null,"6d7583b9",null),Rt=Jt.exports,Yt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("OrderList",{attrs:{admin:"true"}})],1)},Ht=[],zt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"bg-primary text-white p-3 mb-3"},[t._v("订单管理")]),n("div",[n("div",{staticClass:"input-group bg-secondary pt-2 pb-2 mb-3"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.id,expression:"filters.id"}],staticClass:"form-control col-2 offset-9",attrs:{type:"text",placeholder:"按订单号搜索"},domProps:{value:t.filters.id},on:{input:function(e){e.target.composing||t.$set(t.filters,"id",e.target.value)}}}),n("button",{staticClass:"btn btn-info col-1"},[t._v("查询")])]),t.admin?n("div",{staticClass:"input-group bg-secondary pt-2 pb-2"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.uid,expression:"filters.uid"}],staticClass:"form-control col-2 offset-9",attrs:{type:"text",placeholder:"按用户UID搜索"},domProps:{value:t.filters.uid},on:{input:function(e){e.target.composing||t.$set(t.filters,"uid",e.target.value)}}}),n("button",{staticClass:"btn btn-info col-1"},[t._v("查询")])]):t._e()]),n("table",{staticClass:"table"},[t._m(0),n("tbody",t._l(t.orders,function(e,s){return n("div",{key:s},[""===t.filters.uid&&t.admin||e.buyerUid===t.filters.uid?n("OrderItem",{attrs:{order:e}}):t._e()],1)}),0)])])},Vt=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",[t._v("时间")]),n("th",[t._v("买家UID")]),n("th",[t._v("购买项")]),n("th",[t._v("总价")])])])}],Kt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",[n("td",[t._v(t._s(t.order.date))]),n("td",[t._v(t._s(t.order.buyerUid))]),n("td",t._l(t.order.books,function(e,s){return n("div",{key:s},[t._v("\n            ISBN："+t._s(e.isbn)+"，单价："+t._s(e.price)+"，购买数量："+t._s(e.count)+"\n        ")])}),0),n("td",[t._v("￥"+t._s(t.totalPrice))])])},Xt=[],Wt={name:"OrderItem",props:["order"],computed:{totalPrice:function(){var t=0,e=0,n=this.order.books;for(t=0;t<n.length;t++)e+=n[t].price*n[t].count;return e}}},qt=Wt,$t=Object(r["a"])(qt,Kt,Xt,!1,null,"f0a82dce",null),te=$t.exports,ee={name:"OrderList",components:{OrderItem:te},props:{admin:{default:!1}},data:function(){return{filters:{id:"",uid:this.admin?"":"1"},orders:[{id:"1",date:new Date(2019,3,9,18,42,32,125).toUTCString(),buyerUid:"1",books:[{isbn:"2",price:20,count:3},{isbn:"22",price:100,count:1}]},{id:"2",date:new Date(2019,3,11,12,3,4,256).toUTCString(),buyerUid:"2",books:[{isbn:"12",price:5,count:1}]},{id:"3",date:new Date(2019,3,15,9,36,11,900).toUTCString(),buyerUid:"1",books:[{isbn:"21",price:35,count:2},{isbn:"32",price:20,count:2}]},{id:"4",date:new Date(2019,3,15,19,12,0,569).toUTCString(),buyerUid:"3",books:[{isbn:"2",price:20,count:1}]},{id:"5",date:new Date(2019,3,18,1,2,30,422).toUTCString(),buyerUid:"4",books:[{isbn:"23",price:90,count:1},{isbn:"32",price:20,count:1}]},{id:"6",date:new Date(2019,3,18,15,52,3,51).toUTCString(),buyerUid:"3",books:[{isbn:"21",price:35,count:1},{isbn:"32",price:20,count:1},{isbn:"24",price:65,count:1}]}]}}},ne=ee,se=Object(r["a"])(ne,zt,Vt,!1,null,"422a860a",null),ie=se.exports,ae={name:"OrderManager",components:{OrderList:ie}},re=ae,oe=Object(r["a"])(re,Yt,Ht,!1,null,"2feeaec8",null),le=oe.exports,ce=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"bg-primary text-white p-3 mb-3"},[t._v("用户管理")]),t._l(t.users,function(t,e){return n("UserItem",{key:e,attrs:{user:t}})})],2)},ue=[],de=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row mt-3 mb-3"},[n("div",{staticClass:"col-4 offset-1"},[n("div",[t._v(t._s(t.user.username)+" (UID: "+t._s(t.user.uid)+")")]),n("div",[t._v("\n            状态：\n            "),n("span",{class:{"text-success":t.user.online,"text-danger":t.user.banned}},[t._v("\n                "+t._s(t.status)+"\n            ")])])]),n("button",{staticClass:"btn col-2 offset-1",class:{"btn-outline-danger":!t.user.banned,"btn-outline-primary":t.user.banned}},[t._v(t._s(t.banText))]),n("button",{staticClass:"btn btn-outline-info col-2 offset-1"},[t._v("发送通知")])])},me=[],ve={name:"UserItem",props:["user"],computed:{status:function(){return this.user.banned?"封禁中":this.user.online?"在线":"离线"},banText:function(){return this.user.banned?"解禁":"封禁"}}},pe=ve,fe=Object(r["a"])(pe,de,me,!1,null,"4a812c73",null),be=fe.exports,he={name:"UserManager",components:{UserItem:be},data:function(){return{users:[{username:"Alice",uid:"1",banned:!1,online:!0},{username:"Bob",uid:"2",banned:!0,online:!1},{username:"Kevin",uid:"3",banned:!1,online:!1},{username:"Sak",uid:"4",banned:!1,online:!0}]}}},ge=he,Ce=Object(r["a"])(ge,ce,ue,!1,null,"61c21216",null),_e=Ce.exports,ye={name:"Management",components:{UserManager:_e,OrderManager:le,BookManager:Rt},methods:{switchEntry:function(t){t>=0&&t<this.entries.length&&(this.selectedEntry=t)}},data:function(){return{entries:["书籍管理","订单管理","用户管理"],selectedEntry:-1}}},xe=ye,ke=Object(r["a"])(xe,Nt,Qt,!1,null,"67665dfc",null),we=ke.exports,Ae=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("OrderList")],1)},Ee=[],Ue={name:"UserOrder",components:{OrderList:ie}},Be=Ue,Oe=Object(r["a"])(Be,Ae,Ee,!1,null,"fc4823a0",null),Ie=Oe.exports,Le=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},De=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",[t._v("404 Not Found")])])}],Pe={name:"NotFound"},Se=Pe,Fe=Object(r["a"])(Se,Le,De,!1,null,"ab481272",null),je=Fe.exports;s["a"].use(u["a"]);var Ne=new u["a"]({mode:"history",base:"/ebook/",routes:[{path:"/",name:"home",component:x},{path:"/login",name:"login",component:j},{path:"/register",name:"register",component:V},{path:"/library",name:"library",component:gt},{path:"/cart",name:"cart",component:jt},{path:"/management",name:"Management",component:we},{path:"/order",name:"Order",component:Ie},{path:"*",component:je}]}),Qe=n("85dc"),Te=n.n(Qe);n("c5ec"),n("ab8b"),n("3e48"),n("d439"),n("c4f9");s["a"].use(Te.a),s["a"].config.productionTip=!1,new s["a"]({router:Ne,render:function(t){return t(c)}}).$mount("#app")},c4f9:function(t,e,n){},cf05:function(t,e){t.exports="data:image/png;base64,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"},e887:function(t,e,n){}});
//# sourceMappingURL=app.c3a951c0.js.map